<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Canary Testrunner</title>
  <link rel="stylesheet" href="qunit-2.5.0.css">
  <script type="text/javascript" src="/en-US/static/app/canary/lib/i18n_stub.js"></script>

  <script src="qunit-2.5.0.js"></script>

  <script>
        QUnit.config.autostart = false;
   </script>

  <script type="text/javascript" src="/en-US/static/app/canary/lib/require.js"></script>

  <script type="text/javascript">


require.config({
    baseUrl: '/en-US/static/app/canary/lib',
    paths: {
        "tests": "qunit/tests",
        "jquery": "jquery/jquery-3.1.0",
        "jquery-cookie": "jquery/jquery-cookie-1.4.1",
        "jquery-ui":   "jquery/jquery-ui",
        "jquery-multiselect":  "jquery/jquery.multiselect",
        "jquery-timepicker":  "jquery/jquery-timepicker-addon-1.6.3",
        "twbsPagination":  "jquery/jquery.twbsPagination.min",
        "svmodule": "module",
        "moment": "moment/moment_2.24.0",
        "chartjs" : "chartjs/chartjs_2.8",
        "twix": "twix/twix.min",
        "strftime": "strftime/strftime-0.11",
        "application": "/static/app/canary/application"
    },
    shim: {
        "chartjs": {deps: ["moment"]},
        "jquery-multiselect":  {deps: ["jquery-ui"]},
        "twbsPagination" : {deps:["jquery"]},
        "application": {
            //These script dependencies should be loaded before loading
            //application.js
            deps: ["jquery","sideview", "context","api/SplunkSearch","job","job_monitor"],
            //Once loaded, use the global 'applicationJS' as the
            //module value.
            exports: "applicationJS"
        },
        "svmodule":{
            deps: ["jquery","sideview", "context","api/SplunkSearch","job","job_monitor","strftime"]
        }

    }
});

</script>

<!-- this was part of an effort to make qunit 2.9.X work with require and with our tests
I gave up, but.... in the end leaving in this autostart=false and then explicit
start seemed... ok.    It seemed like the right path even though it didn't work
Possibly in a future version of qunit it'll give a more informative error about
why the tests just aren't loading at all.
-->
<script type="text/javascript">
    window.addEventListener("load", function onLoad() {
        QUnit.config.autostart = false;

        setTimeout(function () {
                            //load tests using require
            require(['tests'], function (one) {
                //now trigger them.
                QUnit.start();
            });

        }, 1000);
        window.removeEventListener("load", onLoad, true);
    }, true);
</script>


</head>

<!--
https://localhost:8000/en-US/static/app/canary/lib/qunit/runner.html
-->
<body s:view="runner" s:app="canary" s:user="millicent">
  <div id="qunit"></div>
  <div id="qunit-fixture"></div>
  <div id="messageBar"></div>
</body>
</html>